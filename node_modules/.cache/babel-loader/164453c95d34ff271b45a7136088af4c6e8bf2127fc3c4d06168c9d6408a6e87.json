{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { menuData } from \"@/assets/js/data/menu\";\nimport router from \"@/router\";\nexport default {\n  state: {\n    // 动态菜单\n    menuData: []\n  },\n  getters: {},\n  //修改字段\n  mutations: {\n    //设置菜单的数据\n    setMenu(state, val) {\n      state.menuData = val;\n    },\n    //动态注册路由\n    addMenu(state) {\n      // 处理动态路由的数据\n      const menuData = JSON.parse(JSON.stringify(state.menuData));\n      console.log(menuData);\n      const menuArray = [];\n      menuData.forEach(item => {\n        if (item.children && item.children.length >= 1) {\n          menuArray.push(...item.children);\n        } else {\n          menuArray.push(item);\n        }\n      });\n      // 路由的动态添加\n      if (menuArray[0] !== \"\") {\n        menuArray.forEach(item => {\n          var path = item.path;\n          var component = path.slice(1) // 去除'/'\n          .replace(path[1], path[1].toUpperCase()) // \n          .replace(path[path.indexOf(\"-\", 0) + 1], path[path.indexOf(\"-\", 0) + 1].toUpperCase()).replace(new RegExp(\"-\"), \"\"); // 去除'-'\n          console.log(component);\n          router.addRoute(\"/\", {\n            path: `${item.path}`,\n            component: () => import(`@/views/${component}.vue`)\n          });\n        });\n        console.log(menuArray, \"处理之后的菜单\");\n      }\n    }\n  },\n  actions: {},\n  modules: {}\n};","map":{"version":3,"names":["menuData","router","state","getters","mutations","setMenu","val","addMenu","JSON","parse","stringify","console","log","menuArray","forEach","item","children","length","push","path","component","slice","replace","toUpperCase","indexOf","RegExp","addRoute","actions","modules"],"sources":["E:/app/college-application/src/store/modules/menu.js"],"sourcesContent":["import { menuData } from \"@/assets/js/data/menu\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  state: {\r\n    // 动态菜单\r\n    menuData: [],\r\n  },\r\n  getters: {},\r\n  //修改字段\r\n  mutations: {\r\n    //设置菜单的数据\r\n    setMenu(state, val) {\r\n      state.menuData = val;\r\n    },\r\n    //动态注册路由\r\n    addMenu(state) {\r\n      // 处理动态路由的数据\r\n      const menuData = JSON.parse(JSON.stringify(state.menuData));\r\n      console.log(menuData);\r\n      const menuArray = [];\r\n      menuData.forEach((item) => {\r\n        if (item.children && item.children.length >= 1) {\r\n          menuArray.push(...item.children);\r\n        } else {\r\n          menuArray.push(item);\r\n        }\r\n      });\r\n      // 路由的动态添加\r\n      if (menuArray[0] !== \"\") {\r\n        menuArray.forEach((item) => {\r\n          var path = item.path;\r\n          var component = path\r\n            .slice(1)// 去除'/'\r\n            .replace(path[1], path[1].toUpperCase())// \r\n            .replace(\r\n              path[path.indexOf(\"-\", 0) + 1],\r\n              path[path.indexOf(\"-\", 0) + 1].toUpperCase()\r\n            )\r\n            .replace(new RegExp(\"-\"), \"\");// 去除'-'\r\n          console.log(component);\r\n          router.addRoute(\"/\", {\r\n            path: `${item.path}`,\r\n            component: () => import(`@/views/${component}.vue`),\r\n          });\r\n        });\r\n        console.log(menuArray, \"处理之后的菜单\");\r\n      }\r\n    },\r\n  },\r\n  actions: {},\r\n  modules: {},\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,MAAM,MAAM,UAAU;AAE7B,eAAe;EACbC,KAAK,EAAE;IACL;IACAF,QAAQ,EAAE;EACZ,CAAC;EACDG,OAAO,EAAE,CAAC,CAAC;EACX;EACAC,SAAS,EAAE;IACT;IACAC,OAAOA,CAACH,KAAK,EAAEI,GAAG,EAAE;MAClBJ,KAAK,CAACF,QAAQ,GAAGM,GAAG;IACtB,CAAC;IACD;IACAC,OAAOA,CAACL,KAAK,EAAE;MACb;MACA,MAAMF,QAAQ,GAAGQ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACR,KAAK,CAACF,QAAQ,CAAC,CAAC;MAC3DW,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;MACrB,MAAMa,SAAS,GAAG,EAAE;MACpBb,QAAQ,CAACc,OAAO,CAAEC,IAAI,IAAK;QACzB,IAAIA,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACC,QAAQ,CAACC,MAAM,IAAI,CAAC,EAAE;UAC9CJ,SAAS,CAACK,IAAI,CAAC,GAAGH,IAAI,CAACC,QAAQ,CAAC;QAClC,CAAC,MAAM;UACLH,SAAS,CAACK,IAAI,CAACH,IAAI,CAAC;QACtB;MACF,CAAC,CAAC;MACF;MACA,IAAIF,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;QACvBA,SAAS,CAACC,OAAO,CAAEC,IAAI,IAAK;UAC1B,IAAII,IAAI,GAAGJ,IAAI,CAACI,IAAI;UACpB,IAAIC,SAAS,GAAGD,IAAI,CACjBE,KAAK,CAAC,CAAC,CAAC;UAAA,CACRC,OAAO,CAACH,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC,CAAC;UAAA,CACvCD,OAAO,CACNH,IAAI,CAACA,IAAI,CAACK,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAC9BL,IAAI,CAACA,IAAI,CAACK,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAACD,WAAW,CAAC,CAC7C,CAAC,CACAD,OAAO,CAAC,IAAIG,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;UAChCd,OAAO,CAACC,GAAG,CAACQ,SAAS,CAAC;UACtBnB,MAAM,CAACyB,QAAQ,CAAC,GAAG,EAAE;YACnBP,IAAI,EAAG,GAAEJ,IAAI,CAACI,IAAK,EAAC;YACpBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAE,WAAUA,SAAU,MAAK;UACpD,CAAC,CAAC;QACJ,CAAC,CAAC;QACFT,OAAO,CAACC,GAAG,CAACC,SAAS,EAAE,SAAS,CAAC;MACnC;IACF;EACF,CAAC;EACDc,OAAO,EAAE,CAAC,CAAC;EACXC,OAAO,EAAE,CAAC;AACZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}